# What is SJH

A proof of concept for generating HTML using java directly, hopefully no uglier than necesarry. While making it difficult to generate invalid HTML by leveraging the typesystem. 

#Why
Generating HTML for Java projects has always been done by non Java templates. e.g. JSPX or ThymeLeaf. These templates would have some programming support as well as accessing values from Java objects using the Java bean syntax.

However, these types of templates are dynamic runtime validated. This does not match nicely with the rest of the Java code which is statically typed. Here we try to see how far java8 can be stretched to generate readable code for generating HTML.

The idea is that it can fit in nicely with JAX-RS&JSR-371 as a good method for generating HTML views.

#But WHY ???

Are you insane, don't you know the greatness that is JSON and React and Angular and .... . Yes, I know of them. But my backend code is 500,000 lines of Java. Currently my HTML is generated by 15,000 lines of JSPX and tagx. As well some 3,2000 lines of Java that generate HTML using a rather hacky extension to tag libs.

We can't afford to throw away the backend Java. We need to maintain the frontend HTML in some manner or other. We have a datamodel that is very complicated and changes drastically over time. While at the same time having only a few developers that need to do maintainance and new feature development. Also there is no split between frontend and backend as all of us need to be able to work on all parts.

Making more of the frontend depend on JSON and JS for rendering will make or SEO difficult. Makes the render parts for HTML complicated, while our other responses such as RDF, JSON, XML, GFF, FASTA, CSV, Excel and will have a completly separate rendering pipeline from the HTML one.


#Status

This is a proof of concept code base only. Will be worked on when I feel like it only.


#Main idea

Assume JAX-RS, 
```java

@Path("hello")
public class Hello {
	@GET
	public Response hello() {

		HTML html = html(head(title("hello")),
				 body(main(h1("hello"))));
		return Response.status(Response.OK)
				.entity(html().build();
	}
}

```

```java
@Path("users")
public class Users {
	@GET
	public Response user(@QueryParam("id") long userid) {

		User user = findUserEtc(userid);
		HTML html = html(head(title("hello")),
				 body(main(new UserGreeting(user))));
		return Response.status(Response.OK)
				.entity(html().build();

	private static class UserGreeting 
		extends H1 {
		private UserGreeting(User user) {
			super("hello, dear ", user.getPrefferedName());
		}
	}
}
```

Which means if you decide to refactor the getPrefferedName() into getNickName(), your standard refactoring tools will be able to change it. Unlike when you are using JSPX or JSF.



